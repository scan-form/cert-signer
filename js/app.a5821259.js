(function(e){function t(t){for(var r,c,o=t[0],s=t[1],u=t[2],l=0,d=[];l<o.length;l++)c=o[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/cert-signer/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var p=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0677":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],c={name:"App"},o=c,s=(n("034f"),n("2877")),u=Object(s["a"])(o,a,i,!1,null,null,null),p=u.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Certificate Signer")]),n("div",[n("div",[e._v("RSA private key (PKCS-8 format):")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.privateKeyPEM,expression:"privateKeyPEM"}],domProps:{value:e.privateKeyPEM},on:{input:function(t){t.target.composing||(e.privateKeyPEM=t.target.value)}}})]),e.privateKeyPEM.length>0?n("div",[n("div",[e._v("Encrypted message:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.encryptedMessage,expression:"encryptedMessage"}],staticClass:"encmsg",domProps:{value:e.encryptedMessage},on:{input:function(t){t.target.composing||(e.encryptedMessage=t.target.value)}}})]):e._e(),e.encryptedMessage.length>0?n("div",[e._v(" Expires in: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.expireDays,expression:"expireDays",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.expireDays},on:{input:function(t){t.target.composing||(e.expireDays=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" days ")]):e._e(),e.encryptedMessage.length>0?n("div",[n("button",{on:{click:function(t){e.expireDays=365}}},[e._v("1 year")]),n("button",{on:{click:function(t){e.expireDays=1825}}},[e._v("5 year")]),n("button",{on:{click:function(t){e.expireDays=3650}}},[e._v("10 year")]),n("button",{on:{click:function(t){e.expireDays=10950}}},[e._v("30 year")])]):e._e(),n("div",[e.encryptedMessage.length>0?n("button",{on:{click:e.genCertificate}},[e._v("Generate certificate")]):e._e()]),e.encryptedMessage.length>0?n("div",[e.certificate.length>0?n("h3",[e._v("Certificate:")]):e._e(),n("div",{ref:"certificate",staticClass:"certificate"},[e._v(e._s(e.certificate))]),n("div",[e.certificate.length>0?n("button",{on:{click:e.copyToClipboard}},[e._v("Copy to clipboard")]):e._e()]),""!==e.message?n("div",[n("h3",[e._v("Log data:")]),n("div",[n("span",{ref:"logData"},[e._v(e._s(e.logData))]),n("button",{on:{click:e.copyLogData}},[e._v("Copy")])])]):e._e()]):e._e(),n("div",{staticClass:"bottom-nav"},[n("router-link",{attrs:{to:"/encrypt"}},[e._v("Encryption page")])],1)])},f=[],v=(n("ac1f"),n("1276"),n("96cf"),n("1da1"));n("99af"),n("c19f"),n("d3b7"),n("5319"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");function g(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,a=e.length;r<a;r++)n[r]=e.charCodeAt(r);return t}function y(e){var t="-----BEGIN PRIVATE KEY-----\n",n="-----END PRIVATE KEY-----\n",r=e.substring(t.length,e.length-n.length),a=r.replace(/\n/gi,""),i=window.atob(a);return g(i)}function h(e){return m.apply(this,arguments)}function m(){return m=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=y(t),e.prev=1,e.next=4,crypto.subtle.importKey("pkcs8",n,{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["sign"]);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),console.debug("Error:",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),m.apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return w=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=y(t),e.prev=1,e.next=4,crypto.subtle.importKey("pkcs8",n,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["decrypt"]);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),console.debug("Error:",e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),w.apply(this,arguments)}function x(e){return _.apply(this,arguments)}function _(){return _=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="-----BEGIN PUBLIC KEY-----\n",r="-----END PUBLIC KEY-----\n",a=t.substring(n.length,t.length-r.length),i=a.replace(/\n/gi,""),c=window.atob(i),o=g(c),e.prev=6,e.next=9,crypto.subtle.importKey("spki",o,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]);case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e["catch"](6),console.debug("Error:",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[6,12]])}))),_.apply(this,arguments)}function E(e,t,n){return P.apply(this,arguments)}function P(){return P=Object(v["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,c,o,s,u,p,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Math.round(Date.now()/1e3)+86400*r,i="".concat(n,".").concat(a),c=new TextEncoder,o=c.encode(i),e.next=6,crypto.subtle.sign({name:"RSA-PSS",saltLength:32},t,o);case 6:return s=e.sent,u=window.btoa(String.fromCharCode.apply(null,new Uint8Array(s))),p=window.btoa(a).replace(/=/gi,""),l=u.replace(/=/gi,""),e.abrupt("return","".concat(p,".").concat(l));case 11:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function M(e,t){return K.apply(this,arguments)}function K(){return K=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new TextEncoder,a=r.encode(n),e.prev=2,e.next=5,crypto.subtle.encrypt({name:"RSA-OAEP"},t,a);case 5:return i=e.sent,e.abrupt("return",window.btoa(String.fromCharCode.apply(null,new Uint8Array(i))));case 9:return e.prev=9,e.t0=e["catch"](2),console.error("Error:",e.t0),e.abrupt("return","");case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),K.apply(this,arguments)}function R(e,t){return k.apply(this,arguments)}function k(){return k=Object(v["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=g(window.atob(n)),e.prev=1,e.next=4,crypto.subtle.decrypt({name:"RSA-OAEP"},t,r);case 4:return a=e.sent,e.abrupt("return",String.fromCharCode.apply(null,new Uint8Array(a)));case 8:return e.prev=8,e.t0=e["catch"](1),console.error("Error:",e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),k.apply(this,arguments)}n("38cf");function C(e){var t=null;if(document.selection)return t=document.body.createTextRange(),t.moveToElementText(e),t.select().createTextRange(),document.execCommand("copy"),!0;if(window.getSelection){t=document.createRange(),t.selectNode(e);var n=window.getSelection();return n.removeAllRanges(),n.addRange(t),document.execCommand("copy"),!0}return!1}function S(e){var t=e.length%4;return t>0&&(e+="=".repeat(4-t)),parseInt(window.atob(e))}var O=14,A={name:"Signer",data:function(){return{privateKeyPEM:"",signingPrivateKey:null,decryptionPrivateKey:null,message:"",encryptedMessage:"",expireDays:O,certificate:"",logData:""}},created:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{genCertificate:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this.decryptionPrivateKey){e.next=4;break}return e.next=3,b(this.privateKeyPEM);case 3:this.decryptionPrivateKey=e.sent;case 4:if(null!==this.signingPrivateKey){e.next=8;break}return e.next=7,h(this.privateKeyPEM);case 7:this.signingPrivateKey=e.sent;case 8:return e.next=10,R(this.decryptionPrivateKey,this.encryptedMessage);case 10:if(this.message=e.sent,""!==this.message){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,E(this.signingPrivateKey,this.message,this.expireDays);case 15:this.certificate=e.sent,t=Math.round(Date.now()/1e3),n={message:this.message,sn:parseInt(this.message,16),created:t,expire:S(this.certificate.split(".")[0])},this.logData=JSON.stringify(n);case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),copyToClipboard:function(){var e=C(this.$refs.certificate);e&&alert("Certificate has been copied to clipboard")},copyLogData:function(){C(this.$refs.logData)}}},j=A,D=(n("c6bf"),Object(s["a"])(j,d,f,!1,null,"508c8439",null)),T=D.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Encrypt Message")]),n("div",[e._v("RSA public key")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.publicKeyPEM,expression:"publicKeyPEM"}],domProps:{value:e.publicKeyPEM},on:{input:function(t){t.target.composing||(e.publicKeyPEM=t.target.value)}}}),n("div",[e._v(" Message: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),e.message.length>0?n("div",[n("button",{on:{click:e.encrypt}},[e._v("Encrypt")])]):e._e(),n("div",{ref:"encrypted",staticClass:"encrypted"},[e._v(e._s(e.encryptedMessage))]),n("div",[e.encryptedMessage.length>0?n("button",{on:{click:e.copyToClipboard}},[e._v("Copy To Clipboard")]):e._e()]),n("div",{staticClass:"bottom-nav"},[n("router-link",{attrs:{to:"/"}},[e._v("Home")])],1)])},U=[],I={name:"Encrypt",data:function(){return{publicKeyPEM:"",publicKey:null,message:"",encryptedMessage:""}},created:function(){},methods:{encrypt:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this.publicKey){e.next=4;break}return e.next=3,x(this.publicKeyPEM);case 3:this.publicKey=e.sent;case 4:return e.next=6,M(this.publicKey,this.message);case 6:this.encryptedMessage=e.sent;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),copyToClipboard:function(){var e=C(this.$refs.encrypted);e&&alert("Encrypted message has been copied to clipboard")}}},L=I,$=(n("6bda"),Object(s["a"])(L,N,U,!1,null,"65d7f0a4",null)),B=$.exports;r["a"].use(l["a"]);var H=[{path:"/",name:"signer",component:T},{path:"/encrypt",name:"encrypt",component:B}],Y=new l["a"]({routes:H}),G=Y;r["a"].config.productionTip=!1,new r["a"]({router:G,render:function(e){return e(p)}}).$mount("#app")},"6bda":function(e,t,n){"use strict";var r=n("0677"),a=n.n(r);a.a},"85ec":function(e,t,n){},c6bf:function(e,t,n){"use strict";var r=n("f0bf"),a=n.n(r);a.a},f0bf:function(e,t,n){}});
//# sourceMappingURL=app.a5821259.js.map